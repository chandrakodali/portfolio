<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitOps Best Practices with ArgoCD | Chandra Koushik Kodali</title>
    <meta name="description"
        content="A comprehensive guide to implementing GitOps workflows for Kubernetes deployments with ArgoCD, including multi-environment strategies and zero-downtime deployments.">
    <meta name="author" content="Chandra Koushik Kodali">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #111111;
            --bg-tertiary: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #a3a3a3;
            --text-muted: #737373;
            --accent-cyan: #06b6d4;
            --accent-purple: #8b5cf6;
            --accent-green: #10b981;
            --accent-orange: #f59e0b;
            --accent-red: #ef4444;
            --border-color: #262626;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: var(--bg-primary);
            color: var(--text-secondary);
            line-height: 1.7;
            min-height: 100vh;
        }

        .article-header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 24px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: color 0.2s;
        }

        .back-link:hover {
            color: var(--accent-purple);
        }

        .header-meta {
            display: flex;
            align-items: center;
            gap: 16px;
            font-size: 13px;
            color: var(--text-muted);
        }

        .article-layout {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 48px;
            padding: 48px 32px;
        }

        @media (max-width: 1200px) {
            .article-layout {
                grid-template-columns: 1fr;
            }

            .architecture-sidebar {
                display: none;
            }

            .architecture-inline {
                display: block !important;
            }
        }

        .article-content {
            max-width: 720px;
        }

        .article-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-primary);
            line-height: 1.2;
            margin-bottom: 16px;
        }

        .article-subtitle {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 32px;
            line-height: 1.6;
        }

        .tag {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 4px;
            color: var(--accent-purple);
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 16px;
        }

        h2 {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin: 56px 0 20px;
            padding-top: 24px;
            border-top: 1px solid var(--border-color);
        }

        h2:first-of-type {
            margin-top: 32px;
            padding-top: 0;
            border-top: none;
        }

        h3 {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin: 32px 0 12px;
        }

        h4 {
            font-size: 1rem;
            color: var(--text-secondary);
            margin: 24px 0 8px;
        }

        p {
            margin-bottom: 20px;
        }

        ul,
        ol {
            margin: 0 0 24px 20px;
        }

        li {
            margin-bottom: 8px;
        }

        strong {
            color: var(--text-primary);
            font-weight: 600;
        }

        .code-block {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            line-height: 1.6;
            color: #e5e7eb;
        }

        .code-block code {
            white-space: pre;
        }

        .callout {
            border-radius: 8px;
            padding: 16px 20px;
            margin: 24px 0;
        }

        .callout-info {
            background: rgba(139, 92, 246, 0.1);
            border-left: 3px solid var(--accent-purple);
        }

        .callout-warning {
            background: rgba(245, 158, 11, 0.1);
            border-left: 3px solid var(--accent-orange);
        }

        .callout-danger {
            background: rgba(239, 68, 68, 0.1);
            border-left: 3px solid var(--accent-red);
        }

        .callout-success {
            background: rgba(16, 185, 129, 0.1);
            border-left: 3px solid var(--accent-green);
        }

        .callout-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
            font-size: 14px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 24px 0;
            font-size: 14px;
        }

        th,
        td {
            padding: 12px 16px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-weight: 600;
        }

        .architecture-sidebar {
            position: sticky;
            top: 100px;
            height: fit-content;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
        }

        .architecture-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .architecture-card-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .architecture-card-title::before {
            content: '';
            width: 8px;
            height: 8px;
            background: var(--accent-purple);
            border-radius: 50%;
        }

        .arch-diagram {
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 16px;
        }

        .arch-diagram svg {
            width: 100%;
            height: auto;
        }

        .architecture-inline {
            display: none;
            margin: 32px 0;
        }

        .toc-sidebar {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
        }

        .toc-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 16px;
        }

        .toc-list {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .toc-list li {
            margin-bottom: 8px;
        }

        .toc-list a {
            font-size: 13px;
            color: var(--text-muted);
            text-decoration: none;
            transition: color 0.2s;
            display: block;
            padding: 4px 0;
        }

        .toc-list a:hover {
            color: var(--accent-purple);
        }

        .tree {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            line-height: 1.6;
            overflow-x: auto;
        }

        .tree pre {
            margin: 0;
            color: var(--text-muted);
        }

        .tree .folder {
            color: var(--accent-purple);
        }

        .tree .file {
            color: var(--text-secondary);
        }

        .article-footer {
            max-width: 720px;
            margin: 64px 0;
            padding-top: 32px;
            border-top: 1px solid var(--border-color);
        }

        .cta-section {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 32px;
            text-align: center;
        }

        .cta-title {
            font-size: 1.25rem;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .cta-text {
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--accent-purple);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            font-size: 14px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(139, 92, 246, 0.3);
        }

        .key-takeaways {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            margin: 32px 0;
        }

        .key-takeaways h3 {
            margin-top: 0;
            color: var(--accent-green);
        }

        .key-takeaways ol {
            margin-bottom: 0;
        }
    </style>
</head>

<body>
    <header class="article-header">
        <div class="header-content">
            <a href="/portfolio/#blog" class="back-link">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7" />
                </svg>
                Back to Portfolio
            </a>
            <div class="header-meta">
                <span>22 min read</span>
                <span>‚Ä¢</span>
                <span>DevOps</span>
            </div>
        </div>
    </header>

    <main class="article-layout">
        <article class="article-content">
            <span class="tag">DevOps</span>
            <h1 class="article-title">GitOps Best Practices with ArgoCD</h1>
            <p class="article-subtitle">A comprehensive guide to implementing GitOps workflows for Kubernetes
                deployments, including multi-environment strategies, deployment patterns, and zero-downtime releases.
            </p>

            <h2 id="introduction">What is GitOps?</h2>
            <p>
                GitOps is an operational framework that takes DevOps best practices for application development‚Äîversion
                control, collaboration, compliance, and CI/CD‚Äîand applies them to infrastructure automation. The core
                idea is simple: <strong>Git is the single source of truth</strong> for your entire system.
            </p>

            <div class="callout callout-info">
                <div class="callout-title">üí° The GitOps Promise</div>
                <p>If it's in Git, it's in the cluster. If it's not in Git, it's not in the cluster. This simple
                    guarantee transforms how teams think about deployments and operations.</p>
            </div>

            <!-- Mobile Architecture -->
            <div class="architecture-inline">
                <div class="architecture-card">
                    <div class="architecture-card-title">GitOps Workflow</div>
                    <div class="arch-diagram">
                        <svg viewBox="0 0 350 200" xmlns="http://www.w3.org/2000/svg">
                            <rect x="10" y="80" width="80" height="50" rx="6" fill="#1a1a1a" stroke="#f59e0b"
                                stroke-width="2" />
                            <text x="50" y="110" fill="#f59e0b" font-size="11" text-anchor="middle"
                                font-weight="600">Git Repo</text>

                            <rect x="135" y="80" width="80" height="50" rx="6" fill="#1a1a1a" stroke="#8b5cf6"
                                stroke-width="2" />
                            <text x="175" y="110" fill="#8b5cf6" font-size="11" text-anchor="middle"
                                font-weight="600">ArgoCD</text>

                            <rect x="260" y="80" width="80" height="50" rx="6" fill="#1a1a1a" stroke="#10b981"
                                stroke-width="2" />
                            <text x="300" y="110" fill="#10b981" font-size="11" text-anchor="middle"
                                font-weight="600">Cluster</text>

                            <path d="M90 105 L135 105" stroke="#525252" stroke-width="2" />
                            <polygon points="130,100 140,105 130,110" fill="#525252" />

                            <path d="M215 105 L260 105" stroke="#525252" stroke-width="2" />
                            <polygon points="255,100 265,105 255,110" fill="#525252" />
                        </svg>
                    </div>
                </div>
            </div>

            <h3>Core GitOps Principles</h3>
            <ul>
                <li><strong>Declarative:</strong> Everything is described declaratively‚Äîyou define what you want, not
                    how to get there</li>
                <li><strong>Versioned:</strong> The desired state is stored in Git with complete version history</li>
                <li><strong>Automated:</strong> Changes are automatically pulled and applied by GitOps agents</li>
                <li><strong>Continuously Reconciled:</strong> Agents continuously compare actual vs desired state and
                    correct drift</li>
            </ul>

            <h2 id="argocd-architecture">ArgoCD Architecture</h2>
            <p>ArgoCD is a declarative, GitOps continuous delivery tool for Kubernetes. Understanding its architecture
                is essential for operating it at scale.</p>

            <h3>Key Components</h3>
            <table>
                <tr>
                    <th>Component</th>
                    <th>Purpose</th>
                    <th>Scaling Notes</th>
                </tr>
                <tr>
                    <td>API Server</td>
                    <td>REST/gRPC API, serves UI</td>
                    <td>Stateless, horizontally scalable</td>
                </tr>
                <tr>
                    <td>Repo Server</td>
                    <td>Clones repos, generates manifests</td>
                    <td>CPU intensive, scale by repo count</td>
                </tr>
                <tr>
                    <td>Application Controller</td>
                    <td>Monitors apps, performs sync</td>
                    <td>Single leader with sharding</td>
                </tr>
                <tr>
                    <td>Redis</td>
                    <td>Caching layer</td>
                    <td>Consider Redis Cluster for HA</td>
                </tr>
                <tr>
                    <td>Dex</td>
                    <td>OIDC provider for SSO</td>
                    <td>Stateless, scale as needed</td>
                </tr>
            </table>

            <h2 id="repository-strategies">Repository Strategies</h2>
            <p>How you structure your GitOps repositories significantly impacts maintainability and team autonomy.</p>

            <h3>Mono-Repository</h3>
            <p>All applications and infrastructure in one repo:</p>

            <div class="tree">
                <pre><span class="folder">gitops-repo/</span>
‚îú‚îÄ‚îÄ <span class="folder">apps/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">team-alpha/</span>
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">app-1/</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ <span class="file">base/</span>
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="file">overlays/</span>
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">app-2/</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">team-beta/</span>
‚îú‚îÄ‚îÄ <span class="folder">infrastructure/</span>
‚îÇ   ‚îú‚îÄ‚îÄ <span class="folder">argocd/</span>
‚îÇ   ‚îî‚îÄ‚îÄ <span class="folder">monitoring/</span>
‚îî‚îÄ‚îÄ <span class="folder">clusters/</span>
    ‚îú‚îÄ‚îÄ <span class="folder">dev/</span>
    ‚îú‚îÄ‚îÄ <span class="folder">staging/</span>
    ‚îî‚îÄ‚îÄ <span class="folder">prod/</span></pre>
            </div>

            <div class="callout callout-success">
                <div class="callout-title">‚úÖ When to Use Mono-Repo</div>
                <ul>
                    <li>Smaller organizations (&lt;50 developers)</li>
                    <li>Strong code review culture</li>
                    <li>Need atomic changes across apps</li>
                    <li>Centralized platform team</li>
                </ul>
            </div>

            <h3>Multi-Repository</h3>
            <p>Separate repositories per team or application for maximum autonomy:</p>

            <div class="callout callout-info">
                <div class="callout-title">üí° When to Use Multi-Repo</div>
                <ul>
                    <li>Large organizations with autonomous teams</li>
                    <li>Different access control requirements</li>
                    <li>Independent release cycles</li>
                    <li>Compliance requirements for separation</li>
                </ul>
            </div>

            <h2 id="multi-environment">Multi-Environment Management</h2>

            <h3>Using Kustomize Overlays</h3>
            <p>Kustomize provides a native way to manage environment-specific configurations:</p>

            <div class="code-block"><code># base/kustomization.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - deployment.yaml
  - service.yaml

# overlays/prod/kustomization.yaml
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - ../../base
namePrefix: prod-
namespace: production
patches:
  - path: replica-patch.yaml
images:
  - name: myapp
    newTag: v1.2.3</code></div>

            <h3>ApplicationSet for Automation</h3>
            <p>Generate applications automatically across multiple environments:</p>

            <div class="code-block"><code>apiVersion: argoproj.io/v1alpha1
kind: ApplicationSet
metadata:
  name: myapp
spec:
  generators:
    - list:
        elements:
          - env: dev
            cluster: https://dev-cluster
            replicas: "1"
          - env: prod
            cluster: https://prod-cluster
            replicas: "5"
  template:
    metadata:
      name: 'myapp-{{env}}'
    spec:
      source:
        repoURL: https://github.com/org/gitops
        path: 'apps/myapp/overlays/{{env}}'
      destination:
        server: '{{cluster}}'
        namespace: 'myapp-{{env}}'
      syncPolicy:
        automated:
          prune: true
          selfHeal: true</code></div>

            <h2 id="deployment-strategies">Deployment Strategies</h2>

            <h3>Blue-Green Deployments</h3>
            <p>Run two identical environments and switch traffic atomically:</p>

            <div class="code-block"><code>apiVersion: argoproj.io/v1alpha1
kind: Rollout
metadata:
  name: myapp
spec:
  replicas: 5
  strategy:
    blueGreen:
      activeService: myapp-active
      previewService: myapp-preview
      autoPromotionEnabled: false
      prePromotionAnalysis:
        templates:
          - templateName: success-rate
  template:
    spec:
      containers:
        - name: myapp
          image: myapp:v2</code></div>

            <h3>Canary Deployments</h3>
            <p>Gradually shift traffic to the new version with automated analysis:</p>

            <div class="code-block"><code>apiVersion: argoproj.io/v1alpha1
kind: Rollout
metadata:
  name: myapp
spec:
  strategy:
    canary:
      steps:
        - setWeight: 5
        - pause: { duration: 5m }
        - setWeight: 20
        - pause: { duration: 10m }
        - setWeight: 50
        - pause: { duration: 10m }
      analysis:
        templates:
          - templateName: success-rate
        startingStep: 2</code></div>

            <h2 id="secrets-management">Secrets Management</h2>
            <p>Never store plaintext secrets in Git. Use one of these approaches:</p>

            <h3>Sealed Secrets</h3>
            <p>Encrypt secrets that can only be decrypted by the cluster:</p>

            <div class="code-block"><code># Encrypt locally, commit to Git
kubeseal --format yaml < secret.yaml > sealed-secret.yaml

# The sealed secret in Git
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: mysecret
spec:
  encryptedData:
    password: AgBy8hCi...</code></div>

            <h3>External Secrets Operator</h3>
            <p>Sync secrets from external providers like Vault or AWS Secrets Manager:</p>

            <div class="code-block"><code>apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: db-credentials
spec:
  refreshInterval: 1h
  secretStoreRef:
    kind: ClusterSecretStore
    name: vault-backend
  target:
    name: db-secret
  data:
    - secretKey: password
      remoteRef:
        key: secret/data/myapp/db
        property: password</code></div>

            <h2 id="sync-strategies">Sync Strategies</h2>

            <h3>Sync Waves</h3>
            <p>Control the order in which resources are created:</p>

            <div class="code-block"><code># Namespace first (wave -1)
apiVersion: v1
kind: Namespace
metadata:
  name: myapp
  annotations:
    argocd.argoproj.io/sync-wave: "-1"
---
# ConfigMaps second (wave 0)
apiVersion: v1
kind: ConfigMap
metadata:
  annotations:
    argocd.argoproj.io/sync-wave: "0"
---
# Deployment last (wave 1)
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    argocd.argoproj.io/sync-wave: "1"</code></div>

            <h3>Resource Hooks</h3>
            <p>Run jobs at specific sync phases:</p>

            <div class="code-block"><code>apiVersion: batch/v1
kind: Job
metadata:
  name: db-migration
  annotations:
    argocd.argoproj.io/hook: PreSync
    argocd.argoproj.io/hook-delete-policy: HookSucceeded
spec:
  template:
    spec:
      containers:
        - name: migrate
          image: myapp:v2
          command: ["./migrate.sh"]
      restartPolicy: Never</code></div>

            <h2 id="troubleshooting">Troubleshooting Common Issues</h2>

            <div class="callout callout-danger">
                <div class="callout-title">üîß Application Stuck in "Progressing"</div>
                <p>Common causes:</p>
                <ul>
                    <li><strong>Image pull failures:</strong> Check imagePullSecrets and registry access</li>
                    <li><strong>Resource limits:</strong> Pod can't be scheduled due to insufficient resources</li>
                    <li><strong>Readiness probe failing:</strong> Application not responding on health endpoint</li>
                </ul>
            </div>

            <div class="code-block"><code># Debug commands
kubectl describe pod <pod-name> -n <namespace>
argocd app get <app-name> --show-operation
kubectl logs <pod-name> -n <namespace></code></div>

            <div class="callout callout-warning">
                <div class="callout-title">‚ö†Ô∏è Sync Loops</div>
                <p>ArgoCD keeps syncing even when nothing changed. This often happens when external controllers mutate
                    resources:</p>
            </div>

            <div class="code-block"><code>spec:
  ignoreDifferences:
    - group: apps
      kind: Deployment
      jsonPointers:
        - /spec/replicas  # Ignore HPA changes
    - group: ""
      kind: Service
      jqPathExpressions:
        - .metadata.annotations["field.cattle.io/publicEndpoints"]</code></div>

            <div class="key-takeaways">
                <h3>üéØ Key Takeaways</h3>
                <ol>
                    <li><strong>Git is the source of truth:</strong> Every change must go through Git for auditability
                    </li>
                    <li><strong>Start simple:</strong> Begin with basic sync, add complexity (Rollouts, hooks) as needed
                    </li>
                    <li><strong>Secure secrets:</strong> Never commit plaintext secrets; use Sealed Secrets or External
                        Secrets</li>
                    <li><strong>Use ApplicationSets:</strong> Automate multi-environment deployments</li>
                    <li><strong>Monitor aggressively:</strong> Set up alerts for sync failures and health status</li>
                    <li><strong>Test rollbacks:</strong> Regularly practice rollback procedures</li>
                </ol>
            </div>

            <div class="article-footer">
                <div class="cta-section">
                    <h3 class="cta-title">Ready to implement GitOps?</h3>
                    <p class="cta-text">Let's discuss how to set up ArgoCD for your organization.</p>
                    <a href="/portfolio/#contact" class="cta-button">
                        Get in Touch
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7" />
                        </svg>
                    </a>
                </div>
            </div>
        </article>

        <!-- Architecture Sidebar -->
        <aside class="architecture-sidebar">
            <div class="architecture-card">
                <div class="architecture-card-title">GitOps Workflow</div>
                <div class="arch-diagram">
                    <svg viewBox="0 0 350 280" xmlns="http://www.w3.org/2000/svg">
                        <!-- Developer -->
                        <rect x="10" y="10" width="100" height="50" rx="6" fill="#0a0a0a" stroke="#06b6d4"
                            stroke-width="2" />
                        <text x="60" y="32" fill="#06b6d4" font-size="10" text-anchor="middle"
                            font-weight="600">Developer</text>
                        <text x="60" y="47" fill="#737373" font-size="8" text-anchor="middle">Push changes</text>

                        <!-- Git Repository -->
                        <rect x="125" y="10" width="100" height="50" rx="6" fill="#0a0a0a" stroke="#f59e0b"
                            stroke-width="2" />
                        <text x="175" y="32" fill="#f59e0b" font-size="10" text-anchor="middle" font-weight="600">Git
                            Repository</text>
                        <text x="175" y="47" fill="#737373" font-size="8" text-anchor="middle">Source of Truth</text>

                        <!-- ArgoCD -->
                        <rect x="125" y="115" width="100" height="60" rx="6" fill="#0a0a0a" stroke="#8b5cf6"
                            stroke-width="2" />
                        <text x="175" y="140" fill="#8b5cf6" font-size="10" text-anchor="middle"
                            font-weight="600">ArgoCD</text>
                        <text x="175" y="155" fill="#737373" font-size="8" text-anchor="middle">Pull & Compare</text>
                        <text x="175" y="167" fill="#737373" font-size="8" text-anchor="middle">Sync & Heal</text>

                        <!-- Kubernetes Cluster -->
                        <rect x="75" y="220" width="200" height="50" rx="6" fill="#0a0a0a" stroke="#10b981"
                            stroke-width="2" />
                        <text x="175" y="245" fill="#10b981" font-size="10" text-anchor="middle"
                            font-weight="600">Kubernetes Cluster</text>
                        <text x="175" y="260" fill="#737373" font-size="8" text-anchor="middle">Actual State</text>

                        <!-- Arrows -->
                        <path d="M110 35 L125 35" stroke="#525252" stroke-width="2" />
                        <polygon points="120,30 130,35 120,40" fill="#525252" />

                        <path d="M175 60 L175 115" stroke="#525252" stroke-width="2" />
                        <polygon points="170,110 175,120 180,110" fill="#525252" />

                        <path d="M175 175 L175 220" stroke="#525252" stroke-width="2" />
                        <polygon points="170,215 175,225 180,215" fill="#525252" />

                        <!-- Feedback loop -->
                        <path d="M275 145 L290 145 L290 245 L275 245" stroke="#525252" stroke-width="1.5"
                            stroke-dasharray="4" fill="none" />
                        <text x="295" y="200" fill="#737373" font-size="7"
                            transform="rotate(90, 295, 200)">Reconcile</text>
                    </svg>
                </div>
                <p style="font-size: 12px; color: var(--text-muted); margin: 0;">
                    ArgoCD continuously pulls from Git and reconciles the cluster state with the desired state.
                </p>
            </div>

            <div class="architecture-card">
                <div class="architecture-card-title">Multi-Environment Pipeline</div>
                <div class="arch-diagram">
                    <svg viewBox="0 0 350 200" xmlns="http://www.w3.org/2000/svg">
                        <!-- Git -->
                        <rect x="10" y="75" width="70" height="50" rx="6" fill="#0a0a0a" stroke="#f59e0b"
                            stroke-width="2" />
                        <text x="45" y="105" fill="#f59e0b" font-size="10" text-anchor="middle"
                            font-weight="600">Git</text>

                        <!-- Environments -->
                        <rect x="110" y="20" width="60" height="40" rx="4" fill="#0a0a0a" stroke="#06b6d4"
                            stroke-width="1.5" />
                        <text x="140" y="45" fill="#06b6d4" font-size="9" text-anchor="middle"
                            font-weight="500">Dev</text>

                        <rect x="110" y="80" width="60" height="40" rx="4" fill="#0a0a0a" stroke="#8b5cf6"
                            stroke-width="1.5" />
                        <text x="140" y="105" fill="#8b5cf6" font-size="9" text-anchor="middle"
                            font-weight="500">Staging</text>

                        <rect x="110" y="140" width="60" height="40" rx="4" fill="#0a0a0a" stroke="#10b981"
                            stroke-width="1.5" />
                        <text x="140" y="165" fill="#10b981" font-size="9" text-anchor="middle"
                            font-weight="500">Prod</text>

                        <!-- Clusters -->
                        <rect x="200" y="20" width="140" height="40" rx="4" fill="#1a1a1a" />
                        <text x="270" y="45" fill="#a3a3a3" font-size="9" text-anchor="middle">dev-cluster</text>

                        <rect x="200" y="80" width="140" height="40" rx="4" fill="#1a1a1a" />
                        <text x="270" y="105" fill="#a3a3a3" font-size="9" text-anchor="middle">staging-cluster</text>

                        <rect x="200" y="140" width="140" height="40" rx="4" fill="#1a1a1a" />
                        <text x="270" y="165" fill="#a3a3a3" font-size="9" text-anchor="middle">prod-cluster</text>

                        <!-- Arrows -->
                        <path d="M80 90 L95 90 L95 40 L110 40" stroke="#525252" stroke-width="1.5" />
                        <path d="M80 100 L110 100" stroke="#525252" stroke-width="1.5" />
                        <path d="M80 110 L95 110 L95 160 L110 160" stroke="#525252" stroke-width="1.5" />

                        <path d="M170 40 L200 40" stroke="#525252" stroke-width="1.5" />
                        <path d="M170 100 L200 100" stroke="#525252" stroke-width="1.5" />
                        <path d="M170 160 L200 160" stroke="#525252" stroke-width="1.5" />
                    </svg>
                </div>
                <p style="font-size: 12px; color: var(--text-muted); margin: 0;">
                    ApplicationSets automatically generate Applications for each environment from a single template.
                </p>
            </div>

            <div class="toc-sidebar">
                <div class="toc-title">On This Page</div>
                <ul class="toc-list">
                    <li><a href="#introduction">What is GitOps?</a></li>
                    <li><a href="#argocd-architecture">ArgoCD Architecture</a></li>
                    <li><a href="#repository-strategies">Repository Strategies</a></li>
                    <li><a href="#multi-environment">Multi-Environment</a></li>
                    <li><a href="#deployment-strategies">Deployment Strategies</a></li>
                    <li><a href="#secrets-management">Secrets Management</a></li>
                    <li><a href="#sync-strategies">Sync Strategies</a></li>
                    <li><a href="#troubleshooting">Troubleshooting</a></li>
                </ul>
            </div>
        </aside>
    </main>
</body>

</html>